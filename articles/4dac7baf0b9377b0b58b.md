---
title: "zenn-cli + reviewdog + textlint + GitHub Actions ã§åŸ·ç­†ä½“é¨“ã‚’æœ€é«˜ã«ã™ã‚‹"
emoji: "ğŸ“š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Zenn", "textlint", "GitHubActions", "reviewdog"]
published: true
---

# ã¯ã˜ã‚ã«

å‰å›ã®è¨˜äº‹ã‚’æ›¸ãéš›ã« textlint + reviewdog + GitHub Actions ã‚’å°å…¥ã—ã¦ã¿ãŸã¨ã“ã‚ã€Zenn ã§ã®åŸ·ç­†ä½“é¨“ãŒã•ã‚‰ã«ä¸ŠãŒã£ãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ã€ã“ã®ã‚ˆã†ã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒè‡ªå‹•ã§ã¤ãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/lv82mvk66q030q1ew5o6yf4id76c)

æ‰‹é †é€šã‚Šã«è¡Œãˆã°ã€ãŠãã‚‰ã 10 åˆ†ç¨‹åº¦ã§è¨­å®šãŒã§ãã‚‹ã¯ãšã§ã™ã€‚Zenn ã§ã‚ˆã‚Šè³ªã®é«˜ã„è¨˜äº‹ã‚’æŠ•ç¨¿ã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã¯ãœã²ãƒˆãƒ©ã‚¤ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

# å°å…¥æ‰‹é †

:::message
è‡ªåˆ†ã«ã‚ã£ãŸ lint ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã¯ãšãªã®ã§ã€é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚
ã¾ãšã¯é‹ç”¨ã—ã¦ã¿ã¦ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„ã¨ã„ã†æ–¹ã¯ã€ã“ã®æ‰‹é †é€šã‚Šã«é€²ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

1. textlint ã¨ textlint ã®ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ«ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    ```bash
    $ npm install --save-dev textlint textlint-rule-preset-ja-technical-writing textlint-rule-preset-ja-spacing
    ```
2. `.textlintrc` ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å†…å®¹ã‚’ãƒšãƒ¼ã‚¹ãƒˆ
    ```json
    {
      "plugins": {
        "@textlint/markdown": {
          "extensions": [".md"]
        }
      },
      "rules": {
        "preset-ja-technical-writing": {
            "no-exclamation-question-mark": {
            "allowFullWidthExclamation": true,
            "allowFullWidthQuestion": true,
          },
          "no-doubled-joshi": {
             "strict": false,
             "allow": ["ã‹"], // åŠ©è©ã®ã†ã¡ã€Œã‹ã€ã¯è¤‡æ•°å›ã®å‡ºç¾ã‚’è¨±ã™(e.g.: ã™ã‚‹ã‹ã©ã†ã‹)
          }
        },
        "preset-ja-spacing": {
          "ja-space-between-half-and-full-width": {
            space: "always",
            exceptPunctuation: true,
          },
          "ja-space-around-code": {
            "before": true,
            "after": true
          }
        },
        "ja-technical-writing/ja-no-mixed-period": {
          "allowPeriodMarks": [":"],
        },
        "ja-technical-writing/sentence-length": false //100æ–‡å­—æ•°åˆ¶é™ã®ç„¡åŠ¹åŒ–
      }
    }
    ```
3. `.github/workflows/reviewdog.yml` ã‚’ä½œæˆã—ä»¥ä¸‹ã®å†…å®¹ã‚’ãƒšãƒ¼ã‚¹ãƒˆ
    ```yaml
    name: reviewdog
    on: [pull_request]
    jobs:
      textlint:
        name: runner / textlint
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v2
            with:
              submodules: true
          - name: textlint-github-pr-review
            uses: tsuyoshicho/action-textlint@v3
            with:
              github_token: ${{ secrets.github_token }}
              reporter: github-pr-review
              level: warning
              textlint_flags: "articles/**"
    ```

    :::message
	2021/05/11æ›´æ–° tsuyoshicho/action-textlintã‚’v3ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã—ãŸã€‚
    :::


4. master ãƒ–ãƒ©ãƒ³ãƒã« commit & push

ã“ã‚Œã§å°å…¥ã¯å®Œäº†ã§ã™ã€‚

master ã‹ã‚‰æ–°ãŸã«ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šã€è¨˜äº‹ã‚’ commit & push & ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¦ãã ã•ã„ã€‚GitHub Actions ãŒèµ·å‹•ã—ã€reviewdog ãŒ textlint ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒæŠ•ç¨¿ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

ã¾ã•ã«ã“ã®è¨˜äº‹ã«å¯¾ã—ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸã€‚ã“ã“ã§ã¯ã€Œæ€ã„ã¾ã™ã€ã¨ã„ã†è¡¨ç¾ã«å¯¾ã—ã¦æŒ‡æ‘˜ãŒå…¥ã‚Šã¾ã—ãŸã€‚å®Ÿéš›ã® Pull Request ã¯[ã“ã¡ã‚‰](https://github.com/serima/zenn-content/pull/10)ã§è¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/1sxu0wmwudi2ul76ex85mmpzly1j)


## ã•ã‚‰ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„æ–¹å‘ã‘ã®å‚è€ƒè³‡æ–™

ä»Šå›å°å…¥ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆã€ã¾ãŸåƒ•ãŒè¨­å®šã™ã‚‹éš›ã«å‚è€ƒã•ã›ã¦é ‚ã„ãŸè³‡æ–™ã‚’è¨˜è¼‰ã—ã¦ãŠãã¾ã™ã€‚

- [GitHub: textlint/textlint](https://github.com/textlint/textlint)
- [GitHub: reviewdog/reviewdog](https://github.com/reviewdog/reviewdog)
- [GitHub Action: Run textlint with reviewdog](https://github.com/tsuyoshicho/action-textlint)
    - ä»Šå›å°å…¥ã—ãŸ GitHub Action ã®ãƒªãƒã‚¸ãƒˆãƒª
- [GitHub: textlint-rule-preset-ja-technical-writing](https://github.com/textlint-ja/textlint-rule-preset-ja-technical-writing)
    - ã‹ãªã‚Šãƒ¡ã‚¸ãƒ£ãƒ¼ãªæŠ€è¡“æ–‡æ›¸å‘ã‘ã® textlint ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆ
- [GitHub: textlint-rule-preset-ja-spacing](https://github.com/textlint-ja/textlint-rule-preset-ja-spacing)
    - æ—¥æœ¬èªå‘¨ã‚Šã«ãŠã‘ã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã®æœ‰ç„¡ã‚’æ±ºå®šã™ã‚‹ textlint ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆ
- [zenn-cli ã‹ã‚‰è¨˜äº‹ã‚’æ›¸ãéš›ã« textlint ã§æ–‡ç« ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹](https://zenn.dev/ria/articles/45632471ce94dd8f1b38)
    - `.textlintrc` ã¯ã“ã¡ã‚‰ã®è¨˜äº‹ã‹ã‚‰å¤§éƒ¨åˆ†ã‚’æ‹å€Ÿã—ã¾ã—ãŸ
- [reviewdog + textlintã§ãƒ–ãƒ­ã‚°ã®è‡ªå‹•æ ¡æ­£ã‚’ã™ã‚‹](https://meuniere.dev/posts/2020/08/10/add-reviewdog-textlint.html)
    - VuePress å‘ã‘ã§ã™ãŒã€éå¸¸ã«ä¸å¯§ã§åˆ†ã‹ã‚Šã‚„ã™ã„

## ç•ªå¤–ç·¨: vscode-textlint

åŸ·ç­†ç’°å¢ƒã¨ã—ã¦ VS Code ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ [vscode-textlint](https://marketplace.visualstudio.com/items?itemName=taichi.vscode-textlint) ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å°å…¥ã™ã‚‹ã¨ã•ã‚‰ã«è‰¯ã„ã§ã—ã‚‡ã†ã€‚
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œ VS Code ã‚’å†èµ·å‹•ã™ã‚‹ã¨ textlint ãŒæœ‰åŠ¹ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¯è‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡æ‘˜ã‚’ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/py6sdryu3fqix1jeseqxv2kcb8tb)

ã•ã‚‰ã«è©³ç´°ã‚’çŸ¥ã‚ŠãŸã„å ´åˆã¯ã“ã¡ã‚‰ã® [textlint ã¨ VS Code ã§å§‹ã‚ã‚‹æ–‡ç« æ ¡æ­£](https://qiita.com/takasp/items/22f7f72b691fda30aea2) ã¨ã„ã†è¨˜äº‹ãŒæŠœç¾¤ã«åˆ†ã‹ã‚Šã‚„ã™ã„ã®ã§ãœã²ã”è¦§ãã ã•ã„ã€‚

# çµ‚ã‚ã‚Šã«

åƒ•ã¯ä¸€æ–‡ãŒé•·ã„æ–‡ç« ã‚’æ›¸ã„ã¦ã—ã¾ã„ãŒã¡ãªã®ã§ã€linter ã«èª­ç‚¹ã‚’ä½¿ã„ã™ããªã„ã‚ˆã†å¼·åˆ¶ã•ã›ã‚‰ã‚Œã‚‹ã“ã¨ã§è‰¯ã„è¨“ç·´ã«ãªã£ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚
ã¾ãŸã€textlint ã®ãƒ«ãƒ¼ãƒ«ã¯å¥¥ãŒæ·±ãã†ãªã®ã§ã€ã—ã°ã‚‰ãè¨˜äº‹ã‚’æ›¸ããªãŒã‚‰èª¿æ•´ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

---

ã“ã®è¨˜äº‹ã¯ GitHub é€£æºã§æ›¸ã„ã¦ã„ã¾ã™ã€‚åŠ ç­†ä¿®æ­£ãªã©ä¿®æ­£ PR ã‚’å—ã‘ä»˜ã‘ã¦ã„ã¾ã™ï¼
https://github.com/serima/zenn-content
